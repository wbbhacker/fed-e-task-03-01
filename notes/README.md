#### 一、简单题

1. 不是响应式的，
   通过Object.defineProperty 给对象新添加属性，劫持属性，从而把新属性设置为响应式

2. diff 算法过程 

   - diff 算法是比较新旧两个虚拟Dom 差异的算法

   - patch方法 判断两个新旧VDom是否是同一个VDom
     - 如果不相同，则新VDom 替换 老VDom
     - 如果是一个VDom 则比较两者的差异通过patchVnode方法
   - patchVnode 方法会比较这新旧VDom
     - 如果新VDom 是文本节点且与旧节点不相等，进行替换处理
     - 如果新VDom 为非文本节点
       - 且新VDom 有子元素 并旧VDom无子元素时 ，则把元素中插入新VDom 的子元素
       - 且新VDom 无子元素 并 旧VDom 有子元素时 ，则元素的子元素
       - 旧VDom 为文本节点，新VDom无子元素时，清空元素的文本内容
       - 新旧VDom 都有子元素时，则调用updateChildren 进行差异比较
   - updateChildren方法
     - 对新旧VDom 的子元素数组，同时进行双指针（头、尾指针）循环遍历，循环结束跳条件是 其中一个子元素数组头尾指针相交即其中一个数组遍历完
       - 如果四个指针其中有一个为null ，跳出本次循环，进入下次循环，并指针进行相应平移，
       - 头头相同 或 尾尾相同，则调用patchVnode 递归，并指针进行相应平移
       - 如果头尾相同 或 尾头相同，则移动元素的子元素，并调用patchVnode 递归且指针进行相应平移
       - 如果以上条件都不符合则根据key 属性进行比较：
         - 先算出老VDom 子元素 可所有key值，判断新VDom 头指针key  是否在其中
           - 如果不在其中，则元素插入新节点
           - 如果在其中，则判断虚拟节点的 选择器是否相同
             - 若果不相同，则插元素插入新节点
             - 如果相同，则移动元素的子元素，并调用patchVnode 递归且指针进行相应平移
         - 新VDom 子元素 头 平移
     - 循环完毕，如新旧Vdom 子元素还有循环完毕的，则元素进行相应的增减操作



​	

